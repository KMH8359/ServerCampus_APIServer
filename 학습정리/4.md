# SQLKata
  오픈소스 쿼리 빌더 라이브러리
  복잡한 SQL 쿼리를 보다 직관적인 코드로 표현할 수 있도록 돕는다.
  ASP.NET Core 환경에서는 Nuget 패키지 기능을 통해 설치할 수 있음

## 특징
  1. 플랫폼 독립적인 쿼리 작성을 지원하여 여러 종류의 DBMS에서 쿼리를 실행할 수 있다.
  2. 직관적이고 간결한 문법을 제공하여 쿼리 작성의 난이도를 낮춰준다.

## 관련 함수 정리
### QueryFactory 
``` example
    using System.Data;
    using Microsoft.Extensions.Options;
    using MySqlConnector;
    using SqlKata.Execution;

     _dbConn = new MySqlConnection(_dbConfig.Value.MySqlHive);
    _compiler = new SqlKata.Compilers.MySqlCompiler();
    _queryFactory = new QueryFactory(_dbConn, _compiler);
```
  - QueryFactory 클래스를 통해 쿼리를 관리한다.
  - QueryFactory 클래스의 생성에는 연결하고자 하는 DBMS의 주소와 해당 DBMS의 컴파일러가 요구된다.

### From
  ``` example
    Query query = new Query("users"); // users 테이블을 기준으로 새로운 쿼리 생성
  ```
  - 쿼리를 실행할 기본 테이블을 설정한다.
### Where
  ``` example
    query.Where("score", ">",1000)  // Score > 1000
    Query("account").Where("UserId", id) UserId == id
  ```
  - Where절을 쿼리에 추가하여 특정 컬럼과 표기한 값을 기준으로 조건을 추가한다.

### SELECT
  ``` example
    Query query = new Query("users").Select("id", "name");
  ```
  - 특정 테이블의 특정 열들을 선택하여 반환한다.

### Insert
  ``` example
    Query query = new Query("users").AsInsert(new { Name = "John", Age = 30 });
  ```
  - AsInsert 메서드를 통해 특정 테이블에 특정 값을 갖는 컬럼을 추가하는 쿼리를 생성한다.

### Update
  ``` example
    Query query = new Query("users").Where("id", 1).AsUpdate(new { Name = "Jane" });
  ```
  - AsUpdate 메서드를 통해 특정 테이블의 레코드를 업데이트한다.

### Delete
  ``` example
    Query query = new Query("users").Where("id", 1).AsDelete();
  ```
  - AsDelete 메서드를 통해 특정 테이블에서 특정 값을 갖는 컬럼을 제거한다.

### Join
  ``` example
    query.Join("departments", "users.department_id", "departments.id");
  ```
  - users 테이블과 departments 테이블을 조인하여 users의 department_id 데이터와 departments의 id 데이터를 연결한다.

### OrderBy
  ``` example
    query.OrderBy("name", "desc");  // 내림차순
  ```
  - 특정 열을 기준으로 결과를 정렬한다.

### Offset
  ``` example
    query.Offset(10);
  ```
  - 쿼리의 결과의 오프셋을 설정한다.
  - 주로 가져올 필요 없는 이전 페이지의 결과를 제외할 때 사용된다.


